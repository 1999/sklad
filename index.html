<!DOCTYPE HTML>
<html>
<head> 
	<meta charset="utf-8">
	<script src="https://raw.github.com/1999/sklad/master/sklad.js"></script>

	<link rel="stylesheet" href="http://twitter.github.io/bootstrap/assets/css/bootstrap.css">
	<link rel="stylesheet" href="http://twitter.github.io/bootstrap/assets/js/google-code-prettify/prettify.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<style type="text/css">
      body {
        padding-top: 20px;
        padding-bottom: 40px;
      }

      /* Custom container */
      .container-narrow {
        margin: 0 auto;
        max-width: 700px;
      }
      .container-narrow > hr {
        margin: 10px 0 20px;
      }
    </style>

	<title>Sklad: IndexedDB abstraction layer</title>
</head>
<body>

<div class="container-narrow">
	<h2>Sklad: IndexedDB abstraction layer</h2>
	<hr>

	<p class="lead">IndexedDB is <strong>HTML5 standard</strong> for a local database of records holding simple values and hierarchical objects. It is not the same as a Relational Database, which has tables, with collections rows and columns. IndexedDB has databases, which have objects stores with objects stored there. In fact IndexedDB is a NoSQL database similar to MongoDB and CouchDB. It can store <strong>any kind of objects</strong> (even Files and Blobs) and <strong>search them with indicies</strong> which you create when you start working with the database.</p>

	<p class="lead">The problem of IndexedDB is the same as before: its API is too geeky, unfamiliar and complicated. Sklad library allows you to build apps for modern browsers with IndexedDB in a simple and convenient way. This is not ORM - it's just an abstraction layer above IndexedDB native objects.</p>

	<h3>How to start</h3>
	<hr>

	<p>Include <code>sklad.js</code> in your html page. Now you can connect to IndexedDB databases using <code>sklad.open()</code>. More details <a href="https://github.com/1999/sklad/blob/master/examples/README_sklad_open.md">here</a>. Beware that fetch/insert/delete operations run faster if you use multiple object stores in one call instead of using multiple simple operations. This happens because each operation runs inside its own transaction.</p>
	<script src="https://gist.github.com/1999/5476270.js?file=sklad_open.js"></script>

	<h3>Insert one or multiple records</h3>
	<hr>
	<p>Beware that there are 4 types of storing your data in the object stores. You should choose which of them fits your needs and after this you should pass proper data in the <code>database.insert()</code>. More details <a href="https://github.com/1999/sklad/blob/master/examples/README_skladConnection_insert.md">here</a>.</p>
	<script src="https://gist.github.com/1999/5476270.js?file=database_insert.js"></script>

	<h3>Upsert one or multiple records</h3>
	<hr>
	<script src="https://gist.github.com/1999/5476270.js?file=database_upsert.js"></script>

	<h3>Delete one or mutiple records</h3>
	<hr>
	<script src="https://gist.github.com/1999/5476270.js?file=database_delete.js"></script>

	<h3>Clear one or multiple object stores</h3>
	<hr>
	<script src="https://gist.github.com/1999/5476270.js?file=database_clear.js"></script>

	<h3>Get records from the object store(s)</h3>
	<hr>
	<p>You can specify your own ranges with native <a href="https://developer.mozilla.org/en-US/docs/IndexedDB/IDBKeyRange">IDBKeyRange</a> API. There's no such opportunity to get limited number of records and total records number in one call. Default iterating direction is increasing in the order of keys including duplicates, but you can also set your own direction. More details <a href="https://github.com/1999/sklad/blob/master/examples/README_skladConnection_get.md">here</a>.</p>
	<script src="https://gist.github.com/1999/5476270.js?file=database_get.js"></script>

	<h3>Count objects in the object store(s)</h3>
	<hr>
	<script src="https://gist.github.com/1999/5476270.js?file=database_count.js"></script>

	<hr>

	<div class="footer">
		<p>&copy; <a href="http://staypositive.ru">Dmitry Sorin</a> 2013</p>
	</div>
</div>

<a href="https://github.com/1999/sklad"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>

</body>
</html>
